# NBA Shot Search Engine

A natural language search engine for NBA shots, visualized on an interactive half-court map. Hosted entirely on GitHub Pages as a static Single Page Application (SPA).

![NBA Shot Search Screenshot](https://i.imgur.com/Placeholder.png)

## ğŸš€ Features

-   **Natural Language Search:** Search for shots using plain English (e.g., "Curry corner 3", "LeBron dunk", "Lillard 30ft").
-   **Interactive Shot Chart:** Visualizes made/missed shots on an accurate NBA half-court using D3.js.
-   **Player Filtering:** Smart autocomplete dropdown to filter shots by specific players (e.g., distinguish between Steph Curry and Seth Curry).
-   **Client-Side Search:** Powered by `minisearch`, running entirely in the browser with no backend server required.
-   **Efficient Data Loading:** Uses compressed JSON (`.json.gz`) and `DecompressionStream` to load ~200MB of shot data in seconds.
-   **UI:** Built with React, TypeScript, and Tailwind CSS v4.

## ğŸ“‚ Project Structure

```
CS410-Final-Project/
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ deploy.yml      # GitHub Actions workflow to build & deploy to GitHub Pages
â”œâ”€â”€ data/                   # Raw CSV data files (ignored by git)
â”‚   â””â”€â”€ NBA_202X_Shots.csv
â”œâ”€â”€ public/
â”‚   â””â”€â”€ shots_index.json.gz # Compressed search index (generated by script)
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ process_data.py     # Python script to clean, merge, and compress raw CSV data
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ SearchBar.tsx   # Search input with player autocomplete and chip filtering
â”‚   â”‚   â””â”€â”€ ShotMap.tsx     # D3.js visualization of the basketball court and shots
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â””â”€â”€ useShotSearch.ts # Custom hook: loads data, handles decompression, manages MiniSearch
â”‚   â”œâ”€â”€ App.tsx             # Main dashboard layout (Stats, Map, Filters)
â”‚   â”œâ”€â”€ types.ts            # TypeScript interfaces for Shot and Filter data
â”‚   â”œâ”€â”€ index.css           # Tailwind CSS v4 configuration and global styles
â”‚   â””â”€â”€ main.tsx            # React entry point
â”œâ”€â”€ index.html              # HTML entry point
â”œâ”€â”€ package.json            # Node.js dependencies and scripts
â”œâ”€â”€ tsconfig.json           # TypeScript configuration
â””â”€â”€ vite.config.ts          # Vite build configuration (base URL setup)
```

## ğŸ› ï¸ Data Pipeline

The project uses a **static data indexing** approach to avoid the need for a backend database.

1.  **Raw Data:** Sourced from Kaggle (NBA Shots 2004-2024).
2.  **Processing (`scripts/process_data.py`):**
    *   Reads CSVs for selected seasons (currently 2021-2024).
    *   Clean and normalizes data (coordinates, zones, shot types).
    *   Constructs a `search_text` field for full-text search.
    *   Exports a highly optimized JSON file.
    *   Compresses it using GZIP to `public/shots_index.json.gz` (~14MB).

## ğŸ’» Development

### Prerequisites
-   Node.js (v20+)
-   Python 3.x (for data processing)

### Setup

1.  **Install Dependencies:**
    ```bash
    npm install
    ```

2.  **Generate Data Index (Optional):**
    If you have the raw CSV files in `data/`:
    ```bash
    python3 scripts/process_data.py
    ```

3.  **Run Locally:**
    ```bash
    npm run dev
    ```
    Open `http://localhost:5173/CS410-Final-Project/` in your browser.

### Building for Production

```bash
npm run build
```
This compiles the app into the `dist/` folder, ready for deployment.

## ğŸŒ Deployment

The project is configured to deploy automatically to **GitHub Pages**.

1.  Push changes to the `main` branch.
2.  The GitHub Action (`.github/workflows/deploy.yml`) will build the React app and publish it.
3.  Ensure "GitHub Actions" is selected as the source in **Settings > Pages** on GitHub.

## ğŸ” Search Logic

The search engine uses **BM25** (Best Match 25) probabilistic retrieval via the `minisearch` library.
-   **Fields Indexed:** Player Name, Team, Action Type, Shot Zone, Basic Zone.
-   **Boosts:** Player names are boosted (2x) to prioritize specific players over generic terms.
-   **Fuzzy Search:** Enabled to handle minor typos in player names.

## ğŸ“Š Visualization Details

The court map is drawn using **D3.js** SVG paths.
-   **Coordinate System:** Standard NBA data uses a fixed coordinate system (Hoop at 0,0).
-   **Mapping:** We map these coordinates to SVG pixels, ensuring correct aspect ratio and court markings (3pt line, key, etc.).
